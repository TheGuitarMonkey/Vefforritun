{"version":3,"sources":["../scripts.js"],"names":["document","addEventListener","program","init","container","millisecondsToString","milliseconds","sec","min","hour","day","week","month","year","time","Math","floor","timeSinceCreated","created","oldDate","Date","newDate","now","difference","secondToMinutesAndSeconds","totalSeconds","minutes","seconds","element","name","className","child","el","createElement","appendChild","createTextNode","showError","error","errorMessage","addPoster","video","videoPoster","src","poster","addTitle","videoTitle","title","addCreated","videoCreated","addVideoList","data","videoData","i","categories","length","divTitle","div","j","videos","innerDiv","videoID","linkToVideo","href","id","imageContainer","thumbnail","duration","borderContainerDiv","borderDiv","loadJSON","r","XMLHttpRequest","open","onload","JSON","parse","response","status","send","querySelector"],"mappings":";;;;AACAA,SAASC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAY;AACxDC,UAAQC,IAAR;AACD,CAFD;;AAIA,IAAMD,UAAW,YAAY;AAC3B,MAAIE,kBAAJ;;AAEA;;;AAGA,WAASC,oBAAT,CAA8BC,YAA9B,EAA4C;AAC1C,QAAMC,MAAM,IAAZ;AACA,QAAMC,MAAM,KAAKD,GAAjB;AACA,QAAME,OAAO,KAAKD,GAAlB;AACA,QAAME,MAAM,KAAKD,IAAjB;AACA,QAAME,OAAO,IAAID,GAAjB;AACA,QAAME,QAAQ,KAAKF,GAAnB;AACA,QAAMG,OAAO,MAAMH,GAAnB;AACA,QAAII,aAAJ;AACA,QAAIR,eAAeE,GAAnB,EAAwB;AACtBM,aAAOC,KAAKC,KAAL,CAAWV,eAAeC,GAA1B,CAAP;AACA,UAAIO,SAAS,CAAb,EAAgB;AACd,eAAO,WAAWA,IAAX,GAAkB,iBAAzB;AACD;AACD,aAAO,WAAWA,IAAX,GAAkB,gBAAzB;AACD,KAND,MAOK,IAAIR,eAAeG,IAAnB,EAAyB;AAC5BK,aAAOC,KAAKC,KAAL,CAAWV,eAAeE,GAA1B,CAAP;AACA,UAAIM,SAAS,CAAb,EAAgB;AACd,eAAO,WAAWA,IAAX,GAAkB,gBAAzB;AACD;AACD,aAAO,WAAWA,IAAX,GAAkB,eAAzB;AACD,KANI,MAQA,IAAIR,eAAeI,GAAnB,EAAwB;AAC3BI,aAAOC,KAAKC,KAAL,CAAWV,eAAeG,IAA1B,CAAP;AACA,UAAIK,SAAS,CAAb,EAAgB;AACd,eAAO,WAAWA,IAAX,GAAkB,sBAAzB;AACD;AACD,aAAO,WAAWA,IAAX,GAAkB,oBAAzB;AACD,KANI,MAQA,IAAIR,eAAeK,IAAnB,EAAyB;AAC5BG,aAAOC,KAAKC,KAAL,CAAWV,eAAeI,GAA1B,CAAP;AACA,UAAII,SAAS,CAAb,EAAgB;AACd,eAAO,WAAWA,IAAX,GAAkB,cAAzB;AACD;AACD,aAAO,WAAWA,IAAX,GAAkB,aAAzB;AACD,KANI,MAQA,IAAIR,eAAeM,KAAnB,EAA0B;AAC7BE,aAAOC,KAAKC,KAAL,CAAWV,eAAeK,IAA1B,CAAP;AACA,UAAIG,SAAS,CAAb,EAAgB;AACd,eAAO,WAAWA,IAAX,GAAkB,cAAzB;AACD;AACD,aAAO,WAAWA,IAAX,GAAkB,aAAzB;AACD,KANI,MAQA,IAAIR,eAAeO,IAAnB,EAAyB;AAC5BC,aAAOC,KAAKC,KAAL,CAAWV,eAAeM,KAA1B,CAAP;AACA,UAAIE,SAAS,CAAb,EAAgB;AACd,eAAO,WAAWA,IAAX,GAAkB,gBAAzB;AACD;AACD,aAAO,WAAWA,IAAX,GAAkB,eAAzB;AACD,KANI,MAQD;AACFA,aAAOC,KAAKC,KAAL,CAAWV,eAAeO,IAA1B,CAAP;AACA,UAAIC,SAAS,CAAb,EAAgB;AACd,eAAO,WAAWA,IAAX,GAAkB,aAAzB;AACD;AACD,aAAO,WAAWA,IAAX,GAAkB,YAAzB;AACD;AACF;;AAED;;;;AAIA,WAASG,gBAAT,CAA0BC,OAA1B,EAAmC;AACjC,QAAMC,UAAU,IAAIC,IAAJ,CAASF,OAAT,CAAhB;AACA,QAAMG,UAAUD,KAAKE,GAAL,EAAhB;AACA,QAAMC,aAAaF,UAAUF,OAA7B;AACA,WAAOd,qBAAqBkB,UAArB,CAAP;AACD;;AAED,WAASC,yBAAT,CAAmCC,YAAnC,EAAiD;AAC/C,QAAMjB,MAAM,EAAZ;AACA,QAAMkB,UAAUX,KAAKC,KAAL,CAAWS,eAAejB,GAA1B,CAAhB;AACA,QAAImB,UAAUF,eAAejB,GAA7B;AACA,QAAImB,UAAU,EAAd,EAAkB;AAChBA,gBAAU,MAAMA,OAAhB;AACD;AACD,WAAOD,UAAU,GAAV,GAAgBC,OAAvB;AACD;;AAGD,WAASC,OAAT,CAAiBC,IAAjB,EAAuBC,SAAvB,EAAkCC,KAAlC,EAAyC;AACvC,QAAMC,KAAKhC,SAASiC,aAAT,CAAuBJ,IAAvB,CAAX;AACAG,OAAGF,SAAH,GAAeA,SAAf;AACA,QAAI,OAAOC,KAAP,KAAiB,QAArB,EAA+B;AAC7BC,SAAGE,WAAH,CAAelC,SAASmC,cAAT,CAAwBJ,KAAxB,CAAf;AACD,KAFD,MAEO,IAAI,QAAOA,KAAP,yCAAOA,KAAP,OAAiB,QAArB,EAA+B;AACpCC,SAAGE,WAAH,CAAeH,KAAf;AACD;AACD,WAAOC,EAAP;AACD;;AAED,WAASI,SAAT,CAAmBC,KAAnB,EAA0B;AACxB,QAAMC,eAAeV,QAAQ,GAAR,EAAaS,KAAb,CAArB;AACAjC,cAAU8B,WAAV,CAAsBI,YAAtB;AACD;;AAED,WAASC,SAAT,CAAmBC,KAAnB,EAA0B;AACxB,QAAMC,cAAcb,QAAQ,KAAR,EAAe,QAAf,CAApB;AACAa,gBAAYC,GAAZ,GAAkBF,MAAMG,MAAxB;AACA,WAAOF,WAAP;AACD;AACD,WAASG,QAAT,CAAkBJ,KAAlB,EAAyB;AACvB,QAAMK,aAAajB,QAAQ,GAAR,EAAa,UAAb,EAAyBY,MAAMM,KAA/B,CAAnB;AACA,WAAOD,UAAP;AACD;AACD,WAASE,UAAT,CAAoBP,KAApB,EAA2B;AACzB,QAAMQ,eAAepB,QAAQ,GAAR,EAAa,YAAb,EAA2BX,iBAAiBuB,MAAMtB,OAAvB,CAA3B,CAArB;AACA,WAAO8B,YAAP;AACD;;AAGD;;;AAGA,WAASC,YAAT,CAAsBC,IAAtB,EAA4B;AAC1B,QAAMC,YAAYD,IAAlB,CAD0B,CACF;;AAExB;;;AAGA,SAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAID,UAAUE,UAAV,CAAqBC,MAAzC,EAAiDF,KAAK,CAAtD,EAAyD;AACvD,UAAMG,WAAW3B,QAAQ,IAAR,EAAc,eAAd,EAA+BuB,UAAUE,UAAV,CAAqBD,CAArB,EAAwBN,KAAvD,CAAjB;AACA,UAAMU,MAAM5B,QAAQ,KAAR,EAAe,UAAf,EAA2B2B,QAA3B,CAAZ;AACA,WAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIN,UAAUE,UAAV,CAAqBD,CAArB,EAAwBM,MAAxB,CAA+BJ,MAAnD,EAA2DG,KAAK,CAAhE,EAAmE;AACjE,YAAME,WAAW/B,QAAQ,KAAR,EAAe,UAAf,CAAjB;AACA,YAAMgC,UAAUT,UAAUE,UAAV,CAAqBD,CAArB,EAAwBM,MAAxB,CAA+BD,CAA/B,CAAhB;AACA,YAAMjB,QAAQW,UAAUO,MAAV,CAAiBE,UAAU,CAA3B,CAAd;AACA,YAAMnB,cAAcF,UAAUC,KAAV,CAApB;AACA,YAAMK,aAAaD,SAASJ,KAAT,CAAnB;AACA,YAAMQ,eAAeD,WAAWP,KAAX,CAArB;AACA,YAAMqB,cAAcjC,QAAQ,GAAR,CAApB;AACAiC,oBAAYC,IAAZ,GAAmB,mBAAmBtB,MAAMuB,EAA5C;AACA,YAAMC,iBAAiBpC,QAAQ,KAAR,EAAe,gBAAf,CAAvB;AACA,YAAMqC,YAAYrC,QAAQ,KAAR,EAAe,WAAf,EAA4BJ,0BAA0BgB,MAAM0B,QAAhC,CAA5B,CAAlB;AACAL,oBAAY3B,WAAZ,CAAwBO,WAAxB;AACAuB,uBAAe9B,WAAf,CAA2B2B,WAA3B;AACAG,uBAAe9B,WAAf,CAA2B+B,SAA3B;AACAN,iBAASzB,WAAT,CAAqB8B,cAArB;AACAL,iBAASzB,WAAT,CAAqBW,UAArB;AACAc,iBAASzB,WAAT,CAAqBc,YAArB;AACAQ,YAAItB,WAAJ,CAAgByB,QAAhB;AACD;AACDvD,gBAAU8B,WAAV,CAAsBsB,GAAtB;;AAEA;AACA,UAAMW,qBAAqBvC,QAAQ,KAAR,EAAe,oBAAf,CAA3B;AACA,UAAMwC,YAAYxC,QAAQ,KAAR,EAAe,WAAf,CAAlB;AACAuC,yBAAmBjC,WAAnB,CAA+BkC,SAA/B;AACAhE,gBAAU8B,WAAV,CAAsBiC,kBAAtB;AACD;AACF;;AAED,WAASE,QAAT,GAAoB;AAClB,QAAMC,IAAI,IAAIC,cAAJ,EAAV;AACAD,MAAEE,IAAF,CAAO,KAAP,EAAc,aAAd,EAA6B,IAA7B;AACAF,MAAEG,MAAF,GAAW,YAAY;AACrB,UAAMvB,OAAOwB,KAAKC,KAAL,CAAWL,EAAEM,QAAb,CAAb;AACA,UAAIN,EAAEO,MAAF,IAAY,GAAZ,IAAmBP,EAAEO,MAAF,GAAW,GAAlC,EAAuC;AACrC5B,qBAAaC,IAAb;AACD,OAFD,MAEO;AACLd,kBAAU,wBAAV;AACD;AACF,KAPD;AAQAkC,MAAEQ,IAAF;AACD;;AAED,WAAS3E,IAAT,GAAgB;AACdC,gBAAYJ,SAAS+E,aAAT,CAAuB,YAAvB,CAAZ;AACAV;AACD;;AAED,SAAO;AACLlE;AADK,GAAP;AAGD,CA3Le,EAAhB","file":"scripts.js","sourcesContent":["\ndocument.addEventListener('DOMContentLoaded', function () {\n  program.init();\n});\n\nconst program = (function () {\n  let container;\n\n  /* Tekur inn millisekúndur og breytir þeim í\n     stærstu mögulega einingu(t.d. mínútur, klukkustundur)\n     og skilar streng sem lýsir því */\n  function millisecondsToString(milliseconds) {\n    const sec = 1000;\n    const min = 60 * sec;\n    const hour = 60 * min;\n    const day = 24 * hour;\n    const week = 7 * day;\n    const month = 30 * day;\n    const year = 365 * day;\n    let time;\n    if (milliseconds < min) {\n      time = Math.floor(milliseconds / sec);\n      if (time !== 1) {\n        return 'Fyrir ' + time + ' sekúndum síðan';\n      }\n      return 'Fyrir ' + time + ' sekúndu síðan';\n    }\n    else if (milliseconds < hour) {\n      time = Math.floor(milliseconds / min);\n      if (time !== 1) {\n        return 'Fyrir ' + time + ' mínútum síðan';\n      }\n      return 'Fyrir ' + time + ' mínútu síðan';\n    }\n\n    else if (milliseconds < day) {\n      time = Math.floor(milliseconds / hour);\n      if (time !== 1) {\n        return 'Fyrir ' + time + ' klukkustundum síðan';\n      }\n      return 'Fyrir ' + time + ' klukkustund síðan';\n    }\n\n    else if (milliseconds < week) {\n      time = Math.floor(milliseconds / day);\n      if (time !== 1) {\n        return 'Fyrir ' + time + ' dögum síðan';\n      }\n      return 'Fyrir ' + time + ' degi síðan';\n    }\n\n    else if (milliseconds < month) {\n      time = Math.floor(milliseconds / week);\n      if (time !== 1) {\n        return 'Fyrir ' + time + ' vikum síðan';\n      }\n      return 'Fyrir ' + time + ' viku síðan';\n    }\n\n    else if (milliseconds < year) {\n      time = Math.floor(milliseconds / month);\n      if (time !== 1) {\n        return 'Fyrir ' + time + ' mánuðum síðan';\n      }\n      return 'Fyrir ' + time + ' mánuði síðan';\n    }\n\n    else{\n      time = Math.floor(milliseconds / year);\n      if (time !== 1) {\n        return 'Fyrir ' + time + ' árum síðan';\n      }\n      return 'Fyrir ' + time + ' ári síðan';\n    }\n  }\n\n  /* Tekur inn millisekúndurnur sem höfðu liðið frá\n    1. jan 1970 þangað til myndbandið var sett inn\n    og skilar streng sem segir hvað er langt síðan\n    myndbandið var sett inn */\n  function timeSinceCreated(created) {\n    const oldDate = new Date(created);\n    const newDate = Date.now();\n    const difference = newDate - oldDate;\n    return millisecondsToString(difference);\n  }\n\n  function secondToMinutesAndSeconds(totalSeconds) {\n    const min = 60;\n    const minutes = Math.floor(totalSeconds / min);\n    let seconds = totalSeconds % min;\n    if (seconds < 10) {\n      seconds = '0' + seconds;\n    }\n    return minutes + ':' + seconds;\n  }\n\n\n  function element(name, className, child) {\n    const el = document.createElement(name);\n    el.className = className;\n    if (typeof child === 'string') {\n      el.appendChild(document.createTextNode(child));\n    } else if (typeof child === 'object') {\n      el.appendChild(child);\n    }\n    return el;\n  }\n\n  function showError(error) {\n    const errorMessage = element('p', error);\n    container.appendChild(errorMessage);\n  }\n\n  function addPoster(video) {\n    const videoPoster = element('img', 'vidimg');\n    videoPoster.src = video.poster;\n    return videoPoster;\n  }\n  function addTitle(video) {\n    const videoTitle = element('p', 'vidtitle', video.title);\n    return videoTitle;\n  }\n  function addCreated(video) {\n    const videoCreated = element('p', 'vidcreated', timeSinceCreated(video.created));\n    return videoCreated;\n  }\n\n\n  /* tekur inn json object sem hefur verið parse-að, býr til div elements fyrir\n     hvert category, setur inn titil fyrir hvert category og birtir allar upplýsingar\n     fyrir hvert myndband. */\n  function addVideoList(data) {\n    const videoData = data; // json objectið\n\n    /* Býr til div fyrir hvert category og inni í því divi\n       er búið til div utan um hverja mynd og texta tilheyrandi\n      þeirri mynd */\n    for (let i = 0; i < videoData.categories.length; i += 1) {\n      const divTitle = element('h2', 'categorytitle', videoData.categories[i].title);\n      const div = element('div', 'category', divTitle);\n      for (let j = 0; j < videoData.categories[i].videos.length; j += 1) {\n        const innerDiv = element('div', 'imagediv');\n        const videoID = videoData.categories[i].videos[j];\n        const video = videoData.videos[videoID - 1];\n        const videoPoster = addPoster(video);\n        const videoTitle = addTitle(video);\n        const videoCreated = addCreated(video);\n        const linkToVideo = element('a');\n        linkToVideo.href = 'video.html?id=' + video.id;\n        const imageContainer = element('div', 'imagecontainer');\n        const thumbnail = element('div', 'thumbnail', secondToMinutesAndSeconds(video.duration));\n        linkToVideo.appendChild(videoPoster);\n        imageContainer.appendChild(linkToVideo);\n        imageContainer.appendChild(thumbnail);\n        innerDiv.appendChild(imageContainer);\n        innerDiv.appendChild(videoTitle);\n        innerDiv.appendChild(videoCreated);\n        div.appendChild(innerDiv);\n      }\n      container.appendChild(div);\n\n      // Setur border á milli categories\n      const borderContainerDiv = element('div', 'bordercontainerdiv');\n      const borderDiv = element('div', 'borderdiv');\n      borderContainerDiv.appendChild(borderDiv);\n      container.appendChild(borderContainerDiv);\n    }\n  }\n\n  function loadJSON() {\n    const r = new XMLHttpRequest();\n    r.open('GET', 'videos.json', true);\n    r.onload = function () {\n      const data = JSON.parse(r.response);\n      if (r.status >= 200 && r.status < 400) {\n        addVideoList(data);\n      } else {\n        showError('Engin myndbönd fundust');\n      }\n    };\n    r.send();\n  }\n\n  function init() {\n    container = document.querySelector('.container');\n    loadJSON();\n  }\n\n  return {\n    init,\n  };\n})();\n"]}