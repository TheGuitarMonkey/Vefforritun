{"version":3,"sources":["../scripts.js"],"names":["program","startProgram","container","millisecondsToString","milliseconds","sec","min","hour","day","week","month","year","time","Math","floor","timeSinceCreated","created","oldDate","Date","newDate","now","difference","secondToMinutesAndSeconds","totalSeconds","minutes","seconds","element","name","className","child","el","document","createElement","appendChild","createTextNode","showError","error","errorMessage","addPoster","video","videoPoster","src","poster","addTitle","videoTitle","title","addCreated","videoCreated","addVideoList","data","videoData","i","categories","length","divTitle","div","j","videos","innerDiv","videoID","linkToVideo","href","id","imageContainer","thumbnail","duration","borderContainerDiv","borderDiv","loadJSON","r","XMLHttpRequest","open","onload","load","JSON","parse","response","status","send","init","querySelector","addEventListener"],"mappings":"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","file":"scripts.js","sourcesContent":["const program = (function startProgram() {\r\n  let container;\r\n\r\n  /* Tekur inn millisekúndur og breytir þeim í\r\n     stærstu mögulega einingu(t.d. mínútur, klukkustundur)\r\n     og skilar streng sem lýsir því */\r\n  function millisecondsToString(milliseconds) {\r\n    const sec = 1000;\r\n    const min = 60 * sec;\r\n    const hour = 60 * min;\r\n    const day = 24 * hour;\r\n    const week = 7 * day;\r\n    const month = 30 * day;\r\n    const year = 365 * day;\r\n    let time;\r\n    if (milliseconds < min) {\r\n      time = Math.floor(milliseconds / sec);\r\n      if (time !== 1) return `Fyrir ${time} sekúndum síðan`;\r\n      return `Fyrir ${time} sekúndu síðan`;\r\n    } else if (milliseconds < hour) {\r\n      time = Math.floor(milliseconds / min);\r\n      if (time !== 1) return `Fyrir ${time} mínútum síðan`;\r\n      return `Fyrir ${time} mínútu síðan`;\r\n    } else if (milliseconds < day) {\r\n      time = Math.floor(milliseconds / hour);\r\n      if (time !== 1) return `Fyrir ${time} klukkustundum síðan`;\r\n      return `Fyrir ${time} klukkustund síðan`;\r\n    } else if (milliseconds < week) {\r\n      time = Math.floor(milliseconds / day);\r\n      if (time !== 1) return `Fyrir ${time} dögum síðan`;\r\n      return `Fyrir ${time} degi síðan`;\r\n    } else if (milliseconds < month) {\r\n      time = Math.floor(milliseconds / week);\r\n      if (time !== 1) return `Fyrir ${time} vikum síðan`;\r\n      return `Fyrir ${time} viku síðan`;\r\n    } else if (milliseconds < year) {\r\n      time = Math.floor(milliseconds / month);\r\n      if (time !== 1) return `Fyrir ${time} mánuðum síðan`;\r\n      return `Fyrir ${time} mánuði síðan`;\r\n    }\r\n    time = Math.floor(milliseconds / year);\r\n    if (time !== 1) return `Fyrir ${time} árum síðan`;\r\n    return `Fyrir ${time} ári síðan`;\r\n  }\r\n\r\n  /* Tekur inn millisekúndurnur sem höfðu liðið frá\r\n    1. jan 1970 þangað til myndbandið var sett inn\r\n    og skilar streng sem segir hvað er langt síðan\r\n    myndbandið var sett inn */\r\n  function timeSinceCreated(created) {\r\n    const oldDate = new Date(created);\r\n    const newDate = Date.now();\r\n    const difference = newDate - oldDate;\r\n    return millisecondsToString(difference);\r\n  }\r\n\r\n  function secondToMinutesAndSeconds(totalSeconds) {\r\n    const min = 60;\r\n    const minutes = Math.floor(totalSeconds / min);\r\n    let seconds = totalSeconds % min;\r\n    if (seconds < 10) {\r\n      seconds = `0${seconds}`;\r\n    }\r\n    return `${minutes}:${seconds}`;\r\n  }\r\n\r\n\r\n  function element(name, className, child) {\r\n    const el = document.createElement(name);\r\n    el.className = className;\r\n    if (typeof child === 'string') {\r\n      el.appendChild(document.createTextNode(child));\r\n    } else if (typeof child === 'object') {\r\n      el.appendChild(child);\r\n    }\r\n    return el;\r\n  }\r\n\r\n  function showError(error) {\r\n    const errorMessage = element('p', error);\r\n    container.appendChild(errorMessage);\r\n  }\r\n\r\n  function addPoster(video) {\r\n    const videoPoster = element('img', 'vidimg');\r\n    videoPoster.src = video.poster;\r\n    return videoPoster;\r\n  }\r\n  function addTitle(video) {\r\n    const videoTitle = element('p', 'vidtitle', video.title);\r\n    return videoTitle;\r\n  }\r\n  function addCreated(video) {\r\n    const videoCreated = element('p', 'vidcreated', timeSinceCreated(video.created));\r\n    return videoCreated;\r\n  }\r\n\r\n\r\n  /* tekur inn json object sem hefur verið parse-að, býr til div elements fyrir\r\n     hvert category, setur inn titil fyrir hvert category og birtir allar upplýsingar\r\n     fyrir hvert myndband. */\r\n  function addVideoList(data) {\r\n    const videoData = data; // json objectið\r\n\r\n    /* Býr til div fyrir hvert category og inni í því divi\r\n       er búið til div utan um hverja mynd og texta tilheyrandi\r\n      þeirri mynd */\r\n    for (let i = 0; i < videoData.categories.length; i += 1) {\r\n      const divTitle = element('h2', 'categorytitle', videoData.categories[i].title);\r\n      const div = element('div', 'category', divTitle);\r\n      for (let j = 0; j < videoData.categories[i].videos.length; j += 1) {\r\n        const innerDiv = element('div', 'imagediv');\r\n        const videoID = videoData.categories[i].videos[j];\r\n        const video = videoData.videos[videoID - 1];\r\n        const videoPoster = addPoster(video);\r\n        const videoTitle = addTitle(video);\r\n        const videoCreated = addCreated(video);\r\n        const linkToVideo = element('a');\r\n        linkToVideo.href = `video.html?id=${video.id}`;\r\n        const imageContainer = element('div', 'imagecontainer');\r\n        const thumbnail = element('div', 'thumbnail', secondToMinutesAndSeconds(video.duration));\r\n        linkToVideo.appendChild(videoPoster);\r\n        imageContainer.appendChild(linkToVideo);\r\n        imageContainer.appendChild(thumbnail);\r\n        innerDiv.appendChild(imageContainer);\r\n        innerDiv.appendChild(videoTitle);\r\n        innerDiv.appendChild(videoCreated);\r\n        div.appendChild(innerDiv);\r\n      }\r\n      container.appendChild(div);\r\n\r\n      // Setur border á milli categories\r\n      const borderContainerDiv = element('div', 'bordercontainerdiv');\r\n      const borderDiv = element('div', 'borderdiv');\r\n      borderContainerDiv.appendChild(borderDiv);\r\n      container.appendChild(borderContainerDiv);\r\n    }\r\n  }\r\n\r\n  function loadJSON() {\r\n    const r = new XMLHttpRequest();\r\n    r.open('GET', 'videos.json', true);\r\n    r.onload = function load() {\r\n      const data = JSON.parse(r.response);\r\n      if (r.status >= 200 && r.status < 400) {\r\n        addVideoList(data);\r\n      } else {\r\n        showError('Engin myndbönd fundust');\r\n      }\r\n    };\r\n    r.send();\r\n  }\r\n\r\n  function init() {\r\n    container = document.querySelector('.container');\r\n    loadJSON();\r\n  }\r\n\r\n  return {\r\n    init,\r\n  };\r\n}());\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  program.init();\r\n});\r\n"]}