{"version":3,"sources":["../scripts.js"],"names":["program","startProgram","container","millisecondsToString","milliseconds","sec","min","hour","day","week","month","year","time","Math","floor","timeSinceCreated","created","oldDate","Date","newDate","now","difference","secondToMinutesAndSeconds","totalSeconds","minutes","seconds","element","name","className","child","el","document","createElement","appendChild","createTextNode","showError","error","errorMessage","addPoster","video","videoPoster","src","poster","addTitle","videoTitle","title","addCreated","videoCreated","addVideoList","data","videoData","i","categories","length","divTitle","div","j","videos","innerDiv","videoID","linkToVideo","href","id","imageContainer","thumbnail","duration","borderContainerDiv","borderDiv","loadJSON","r","XMLHttpRequest","open","onload","load","JSON","parse","response","status","send","init","querySelector","addEventListener"],"mappings":"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","file":"scripts.js","sourcesContent":["const program = (function startProgram() {\n  let container;\n\n  /* Tekur inn millisekúndur og breytir þeim í\n     stærstu mögulega einingu(t.d. mínútur, klukkustundur)\n     og skilar streng sem lýsir því */\n  function millisecondsToString(milliseconds) {\n    const sec = 1000;\n    const min = 60 * sec;\n    const hour = 60 * min;\n    const day = 24 * hour;\n    const week = 7 * day;\n    const month = 30 * day;\n    const year = 365 * day;\n    let time;\n    if (milliseconds < min) {\n      time = Math.floor(milliseconds / sec);\n      if (time !== 1) return `Fyrir ${time} sekúndum síðan`;\n      return `Fyrir ${time} sekúndu síðan`;\n    } else if (milliseconds < hour) {\n      time = Math.floor(milliseconds / min);\n      if (time !== 1) return `Fyrir ${time} mínútum síðan`;\n      return `Fyrir ${time} mínútu síðan`;\n    } else if (milliseconds < day) {\n      time = Math.floor(milliseconds / hour);\n      if (time !== 1) return `Fyrir ${time} klukkustundum síðan`;\n      return `Fyrir ${time} klukkustund síðan`;\n    } else if (milliseconds < week) {\n      time = Math.floor(milliseconds / day);\n      if (time !== 1) return `Fyrir ${time} dögum síðan`;\n      return `Fyrir ${time} degi síðan`;\n    } else if (milliseconds < month) {\n      time = Math.floor(milliseconds / week);\n      if (time !== 1) return `Fyrir ${time} vikum síðan`;\n      return `Fyrir ${time} viku síðan`;\n    } else if (milliseconds < year) {\n      time = Math.floor(milliseconds / month);\n      if (time !== 1) return `Fyrir ${time} mánuðum síðan`;\n      return `Fyrir ${time} mánuði síðan`;\n    }\n    time = Math.floor(milliseconds / year);\n    if (time !== 1) return `Fyrir ${time} árum síðan`;\n    return `Fyrir ${time} ári síðan`;\n  }\n\n  /* Tekur inn millisekúndurnur sem höfðu liðið frá\n    1. jan 1970 þangað til myndbandið var sett inn\n    og skilar streng sem segir hvað er langt síðan\n    myndbandið var sett inn */\n  function timeSinceCreated(created) {\n    const oldDate = new Date(created);\n    const newDate = Date.now();\n    const difference = newDate - oldDate;\n    return millisecondsToString(difference);\n  }\n\n  function secondToMinutesAndSeconds(totalSeconds) {\n    const min = 60;\n    const minutes = Math.floor(totalSeconds / min);\n    let seconds = totalSeconds % min;\n    if (seconds < 10) {\n      seconds = `0${seconds}`;\n    }\n    return `${minutes}:${seconds}`;\n  }\n\n\n  function element(name, className, child) {\n    const el = document.createElement(name);\n    el.className = className;\n    if (typeof child === 'string') {\n      el.appendChild(document.createTextNode(child));\n    } else if (typeof child === 'object') {\n      el.appendChild(child);\n    }\n    return el;\n  }\n\n  function showError(error) {\n    const errorMessage = element('p', error);\n    container.appendChild(errorMessage);\n  }\n\n  function addPoster(video) {\n    const videoPoster = element('img', 'vidimg');\n    videoPoster.src = video.poster;\n    return videoPoster;\n  }\n  function addTitle(video) {\n    const videoTitle = element('p', 'vidtitle', video.title);\n    return videoTitle;\n  }\n  function addCreated(video) {\n    const videoCreated = element('p', 'vidcreated', timeSinceCreated(video.created));\n    return videoCreated;\n  }\n\n\n  /* tekur inn json object sem hefur verið parse-að, býr til div elements fyrir\n     hvert category, setur inn titil fyrir hvert category og birtir allar upplýsingar\n     fyrir hvert myndband. */\n  function addVideoList(data) {\n    const videoData = data; // json objectið\n\n    /* Býr til div fyrir hvert category og inni í því divi\n       er búið til div utan um hverja mynd og texta tilheyrandi\n      þeirri mynd */\n    for (let i = 0; i < videoData.categories.length; i += 1) {\n      const divTitle = element('h2', 'categorytitle', videoData.categories[i].title);\n      const div = element('div', 'category', divTitle);\n      for (let j = 0; j < videoData.categories[i].videos.length; j += 1) {\n        const innerDiv = element('div', 'imagediv');\n        const videoID = videoData.categories[i].videos[j];\n        const video = videoData.videos[videoID - 1];\n        const videoPoster = addPoster(video);\n        const videoTitle = addTitle(video);\n        const videoCreated = addCreated(video);\n        const linkToVideo = element('a');\n        linkToVideo.href = `video.html?id=${video.id}`;\n        const imageContainer = element('div', 'imagecontainer');\n        const thumbnail = element('div', 'thumbnail', secondToMinutesAndSeconds(video.duration));\n        linkToVideo.appendChild(videoPoster);\n        imageContainer.appendChild(linkToVideo);\n        imageContainer.appendChild(thumbnail);\n        innerDiv.appendChild(imageContainer);\n        innerDiv.appendChild(videoTitle);\n        innerDiv.appendChild(videoCreated);\n        div.appendChild(innerDiv);\n      }\n      container.appendChild(div);\n\n      // Setur border á milli categories\n      const borderContainerDiv = element('div', 'bordercontainerdiv');\n      const borderDiv = element('div', 'borderdiv');\n      borderContainerDiv.appendChild(borderDiv);\n      container.appendChild(borderContainerDiv);\n    }\n  }\n\n  function loadJSON() {\n    const r = new XMLHttpRequest();\n    r.open('GET', 'videos.json', true);\n    r.onload = function load() {\n      const data = JSON.parse(r.response);\n      if (r.status >= 200 && r.status < 400) {\n        addVideoList(data);\n      } else {\n        showError('Engin myndbönd fundust');\n      }\n    };\n    r.send();\n  }\n\n  function init() {\n    container = document.querySelector('.container');\n    loadJSON();\n  }\n\n  return {\n    init,\n  };\n}());\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  program.init();\n});\n"]}