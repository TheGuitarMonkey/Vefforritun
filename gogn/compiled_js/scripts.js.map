{"version":3,"sources":["../scripts.js"],"names":["document","addEventListener","program","init","container","videoData","millisecondsToString","milliseconds","sec","min","hour","day","week","month","year","time","Math","floor","timeSinceCreated","created","oldDate","Date","newDate","now","difference","secondToMinutesAndSeconds","totalSeconds","minutes","seconds","element","name","child","el","createElement","appendChild","createTextNode","loadJSON","r","XMLHttpRequest","open","onload","data","JSON","parse","response","status","addVideoList","send","addPoster","video","videoPoster","src","poster","className","addTitle","videoTitle","title","addCreated","videoCreated","i","categories","length","divTitle","div","j","videos","innerDiv","videoID","linkToVideo","href","id","imageContainer","thumbnail","duration","borderContainerDiv","borderDiv","querySelector"],"mappings":"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","file":"scripts.js","sourcesContent":["\ndocument.addEventListener('DOMContentLoaded', function (){\n\n  program.init();\n});\n\n\nvar program = (function(){\n  let container;\n  let videoData;\n\n  /*Tekur inn millisekúndur og breytir þeim í\n    stærstu mögulega einingu(t.d. mínútur, klukkustundur)\n    og skilar streng sem lýsir því*/\n  function millisecondsToString(milliseconds){\n    const sec = 1000;\n    const min = 60*sec;\n    const hour = 60*min;\n    const day = 24*hour;\n    const week = 7*day;\n    const month = 30*day;\n    const year = 365*day;\n    let time;\n    if(milliseconds < min){\n      time = Math.floor(milliseconds/sec);\n      if(time != 1)\n        return \"Fyrir \" + time + \" sekúndum síðan\";\n      else{\n        return \"Fyrir \" + time + \" sekúndu síðan\";\n      }\n    }\n    else if(milliseconds < hour){\n      time = Math.floor(milliseconds/min);\n      if(time != 1)\n        return \"Fyrir \" + time + \" mínútum síðan\";\n      else{\n        return \"Fyrir \" + time + \" mínútu síðan\";\n      }\n    }\n\n    else if(milliseconds < day){\n      time = Math.floor(milliseconds/hour);\n      if(time != 1)\n        return \"Fyrir \" + time + \" klukkustundum síðan\";\n      else{\n        return \"Fyrir \" + time + \" klukkustund síðan\";\n      }\n    }\n\n    else if(milliseconds < week){\n      time = Math.floor(milliseconds/day);\n      if(time != 1)\n        return \"Fyrir \" + time + \" dögum síðan\";\n      else{\n        return \"Fyrir \" + time + \" degi síðan\";\n      }\n    }\n\n    else if(milliseconds < month){\n      time = Math.floor(milliseconds/week);\n      if(time != 1)\n        return \"Fyrir \" + time + \" vikum síðan\";\n      else{\n        return \"Fyrir \" + time + \" viku síðan\";\n      }\n    }\n\n    else if(milliseconds < year){\n      time = Math.floor(milliseconds/month);\n      if(time != 1)\n        return \"Fyrir \" + time + \" mánuðum síðan\";\n      else{\n        return \"Fyrir \" + time + \" mánuði síðan\";\n      }\n    }\n\n    else{\n      time = Math.floor(milliseconds/year);\n      if(time != 1)\n        return \"Fyrir \" + time + \" árum síðan\";\n      else{\n        return \"Fyrir \" + time + \" ári síðan\";\n      }\n    }\n  }\n\n  /*Tekur inn millisekúndurnur sem höfðu liðið frá\n    1. jan 1970 þangað til myndbandið var sett inn\n    og skilar streng sem segir hvað er langt síðan\n    myndbandið var sett inn*/\n  function timeSinceCreated(created){\n    const oldDate = new Date(created);\n    const newDate = Date.now();\n    const difference = newDate - oldDate;\n    return millisecondsToString(difference);\n  }\n\n  function secondToMinutesAndSeconds(totalSeconds){\n    const min = 60;\n    let minutes, seconds;\n    minutes = Math.floor(totalSeconds/min);\n    seconds = totalSeconds % min;\n    if(seconds < 10)\n      seconds = \"0\" + seconds;\n    return minutes + \":\" + seconds;\n  }\n\n\n  function element(name, child) {\n    const el = document.createElement(name);\n\n    if (typeof child === 'string') {\n      el.appendChild(document.createTextNode(child));\n    } else if (typeof child === 'object') {\n      el.appendChild(child)\n    }\n    return el;\n  }\n\n  function loadJSON() {\n    const r = new XMLHttpRequest();\n    r.open('GET', 'videos.json', true);\n    r.onload = function() {\n      var data = JSON.parse(r.response);\n      if (r.status >=200 && r.status < 400) {\n          addVideoList(data);\n      } else {\n        //villuskilaboð\n      }\n    };\n\n    r.send();\n   }\n\n   function addPoster(video){\n     let videoPoster = element('img');\n     videoPoster.src = video.poster;\n     videoPoster.className = 'vidimg';\n     return videoPoster;\n   }\n   function addTitle(video){\n     let videoTitle = element('p', video.title);\n     videoTitle.className = 'vidtitle';\n     return videoTitle;\n   }\n   function addCreated(video){\n     let videoCreated = element('p', timeSinceCreated(video.created));\n     videoCreated.className = 'vidcreated';\n     return videoCreated;\n   }\n\n\n  /*tekur inn json object sem hefur verið parse-að, býr til div elements fyrir\n    hvert category, setur inn titil fyrir hvert category og birtir allar upplýsingar\n    fyrir hvert myndband.*/\n  function addVideoList(data){\n    let videoData = data; //json objectið\n\n    /*Býr til div fyrir hvert category og inni í því divi\n      er búið til div utan um hverja mynd og texta tilheyrandi\n      þeirri mynd*/\n    for(let i = 0; i < videoData.categories.length; i++){\n      let divTitle = element('h2', videoData.categories[i].title);\n      divTitle.className = 'categorytitle';\n      let div = element('div', divTitle);\n      div.className = 'category';\n      for(let j = 0; j < videoData.categories[i].videos.length; j++){\n        let innerDiv = element('div');\n        innerDiv.className = 'imagediv';\n        let videoID = videoData.categories[i].videos[j];\n        let video = videoData.videos[videoID-1];\n        let videoPoster = addPoster(video);\n        let videoTitle = addTitle(video);\n        let videoCreated = addCreated(video);\n        let linkToVideo = element('a');\n        linkToVideo.href = \"video.html?id=\" + video.id;\n        let imageContainer = element('div');\n        imageContainer.className = 'imagecontainer';\n        let thumbnail = element('div', '' +\n        secondToMinutesAndSeconds(video.duration));\n        thumbnail.className = 'thumbnail';\n        linkToVideo.appendChild(videoPoster);\n        imageContainer.appendChild(linkToVideo);\n        imageContainer.appendChild(thumbnail);\n        innerDiv.appendChild(imageContainer);\n        innerDiv.appendChild(videoTitle);\n        innerDiv.appendChild(videoCreated);\n        div.appendChild(innerDiv);\n      }\n      container.appendChild(div);\n\n      //Setur border á milli categories\n      let borderContainerDiv = element('div');\n      borderContainerDiv.className = 'bordercontainerdiv';\n      let borderDiv = element('div');\n      borderDiv.className = 'borderdiv';\n      borderContainerDiv.appendChild(borderDiv);\n      container.appendChild(borderContainerDiv);\n    }\n\n  }\n\n  function init(){\n    container = document.querySelector('.container');\n    loadJSON();\n  }\n\n\nreturn {\n  init: init\n}\n\n})();\n"]}