{"version":3,"sources":["../vscripts.js"],"names":["videoplayer","div","video","controls","playImg","pauseImg","muteImg","unmuteImg","back","playpause","mute","fullscreen","next","data","videoID","imgElement","src","el","document","createElement","setAttribute","videoElement","poster","element","type","klasi","empty","firstChild","removeChild","videoOverlay","bool","pp","querySelector","ol","style","display","findVideoByID","arr","id","i","length","getID","parseInt","window","location","search","substr","clickPlaypause","paused","play","appendChild","pause","clickBack","currentTime","clickNext","clickMute","muted","clickFullscreen","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","makeControls","img","addEventListener","showLoading","p","createTextNode","showError","link","showData","vid","videos","titill","title","vidwrapper","load","r","XMLHttpRequest","open","onload","JSON","parse","response","status","onerror","send","init","videoDiv"],"mappings":"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","file":"vscripts.js","sourcesContent":["/**\n * Vídjóspilari\n */\nconst videoplayer = (function videoplayer() {\n  let div; // Aðal divvið\n  let video; // video elementið\n  let controls; // controls divvið\n\n  // Breytur fyrir myndir sem breytast, (play, pause, mute, unmute)\n  let playImg;\n  let pauseImg;\n  let muteImg;\n  let unmuteImg;\n\n  // Breytur fyrir takkana\n  let back;\n  let playpause;\n  let mute;\n  let fullscreen;\n  let next;\n\n  // Breyta fyrir videos.json\n  let data;\n  let videoID;\n\n  /**\n   * Býr til img element, tekur inn src.\n   */\n  function imgElement(src) {\n    const el = document.createElement('img');\n    el.setAttribute('src', src);\n    return el;\n  }\n\n  /**\n   * Býr til video element, tekur inn src, poster\n   */\n  function videoElement(src, poster) {\n    const el = document.createElement('video');\n    el.setAttribute('src', src);\n    el.setAttribute('poster', poster);\n    el.setAttribute('class', 'video__vid');\n    return el;\n  }\n\n  /**\n   * Býr til element með klasa. Tekur inn týpu og klasa.\n   */\n  function element(type, klasi) {\n    const el = document.createElement(type);\n    el.setAttribute('class', klasi);\n    return el;\n  }\n\n  /**\n   * Eyðir börnum elements.\n   */\n  function empty(el) {\n    while (el.firstChild) {\n      el.removeChild(el.firstChild);\n    }\n  }\n\n  /**\n   * Bætir div með class overlay á video__wrapper\n   */\n  function videoOverlay(bool) {\n    const pp = document.querySelector('.video__wrapper--playpause');\n    const ol = document.querySelector('.video__wrapper--overlay');\n    if (bool) {\n      pp.style.display = '';\n      ol.style.display = '';\n    } else {\n      pp.style.display = 'none';\n      ol.style.display = 'none';\n    }\n  }\n\n\n  /**\n   * Fær inn fylki og id, skilar því vídjói sem hefur það id. Ef ekkert finnst,\n   * þá null.\n   */\n  function findVideoByID(arr, id) {\n    for (let i = 0; i < arr.length; i += 1) {\n      if (arr[i].id === id) {\n        return arr[i];\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Nær í id úr url. Fallið gerir ráð fyrir að strengurinn url sé á forminu\n   * www.example.com/?id=4 og að ekki séu fleiri breytur en id í url\n   */\n  function getID() {\n    return parseInt(window.location.search.substr(4), 10);\n  }\n\n  // Föll þegar ýtt er á takka.\n  function clickPlaypause() {\n    if (video.paused) {\n      video.play();\n      videoOverlay(false);\n      playpause.removeChild(playpause.firstChild);\n      playpause.appendChild(pauseImg);\n    } else {\n      video.pause();\n      videoOverlay(true);\n      playpause.removeChild(playpause.firstChild);\n      playpause.appendChild(playImg);\n    }\n  }\n\n  function clickBack() {\n    video.currentTime -= 3;\n  }\n\n  function clickNext() {\n    video.currentTime += 3;\n  }\n\n  function clickMute() {\n    if (!video.muted) {\n      video.muted = true;\n      mute.removeChild(mute.firstChild);\n      mute.appendChild(unmuteImg);\n    } else {\n      video.muted = false;\n      mute.removeChild(mute.firstChild);\n      mute.appendChild(muteImg);\n    }\n  }\n\n  function clickFullscreen() {\n    if (video.requestFullscreen) {\n      video.requestFullscreen();\n    } else if (video.webkitRequestFullscreen) {\n      video.webkitRequestFullscreen();\n    } else if (video.mozRequestFullScreen) {\n      video.mozRequestFullScreen();\n    } else if (video.msRequestFullscreen) {\n      video.msRequestFullscreen();\n    }\n  }\n  // ---------- Hér lýkur takkaföllum ------------\n\n  /**\n   * Skilar div með video controls\n   */\n  function makeControls() {\n    const el = element('div', 'video__controls');\n    let img;\n\n    // Takki 1\n    back = element('button', 'video__controls--button');\n    img = imgElement('img/back.svg');\n    back.appendChild(img);\n    el.appendChild(back);\n\n    // Takki 2\n    playpause = element('button', 'video__controls--button');\n    img = imgElement('img/play.svg');\n    playpause.appendChild(img);\n    el.appendChild(playpause);\n\n    // Takki 3\n    mute = element('button', 'video__controls--button');\n    img = imgElement('img/mute.svg');\n    mute.appendChild(img);\n    el.appendChild(mute);\n\n    // Takki 4\n    fullscreen = element('button', 'video__controls--button');\n    img = imgElement('img/fullscreen.svg');\n    fullscreen.appendChild(img);\n    el.appendChild(fullscreen);\n\n    // Takki 5\n    next = element('button', 'video__controls--button');\n    img = imgElement('img/next.svg');\n    next.appendChild(img);\n    el.appendChild(next);\n\n    // Event listeners á takkana\n    back.addEventListener('click', clickBack);\n    playpause.addEventListener('click', clickPlaypause);\n    mute.addEventListener('click', clickMute);\n    fullscreen.addEventListener('click', clickFullscreen);\n    next.addEventListener('click', clickNext);\n\n    return el;\n  }\n\n  /**\n   * Skilaboð þegar verið er að sækja gögn\n   */\n  function showLoading() {\n    empty(div);\n    const p = element('p', 'video__loading');\n\n    p.appendChild(document.createTextNode('Loading...'));\n    div.appendChild(p);\n  }\n\n  /**\n   * Skilaboð þegar eitthvað fer úrskeiðis\n   */\n  function showError() {\n    empty(div);\n    const p = element('p', 'video__error');\n    p.appendChild(document.createTextNode('Vídjóið fannst ekki... mikið er það leitt.'));\n    div.appendChild(p);\n    const link = element('a', 'video__link');\n    link.setAttribute('href', 'index.html');\n    link.appendChild(document.createTextNode('Til baka'));\n    div.appendChild(link);\n  }\n\n  /**\n   * Sýnir gögn sem finnast\n   */\n  function showData() {\n    empty(div);\n\n    const vid = findVideoByID(data.videos, videoID);\n\n    // Ef vídjó finnst, sýndu það\n    if (vid) {\n      const titill = element('h1', 'video__title');\n      titill.appendChild(document.createTextNode(vid.title));\n      const vidwrapper = element('div', 'video__wrapper');\n      video = videoElement(vid.video, vid.poster);\n      vidwrapper.addEventListener('click', clickPlaypause);\n      vidwrapper.appendChild(video);\n      vidwrapper.appendChild(element('div', 'video__wrapper--playpause'));\n      vidwrapper.appendChild(element('div', 'video__wrapper--overlay'));\n      controls = makeControls();\n\n      const link = element('a', 'video__link');\n      link.setAttribute('href', 'index.html');\n      link.appendChild(document.createTextNode('Til baka'));\n\n      // Bæta vídjói og controls í video div\n      div.appendChild(titill);\n      div.appendChild(vidwrapper);\n      div.appendChild(controls);\n      div.appendChild(link);\n    } else {\n      showError();\n    }\n  }\n\n  /**\n   * Finnur út hvaða vídjó skal ná í og nær í það með XMLHttpRequest();\n   */\n  function load() {\n    const r = new XMLHttpRequest();\n    showLoading();\n\n    r.open('GET', 'videos.json', true);\n    r.onload = function onload() {\n      data = JSON.parse(r.response);\n      if (r.status >= 200 && r.status < 400) {\n        showData();\n      } else {\n        showError();\n      }\n    };\n\n    // Fall sem keyrir ef villa kemur upp\n    r.onerror = function onerror() {\n      showError();\n    };\n    r.send();\n  }\n\n  function init(videoDiv) {\n    // látum div vera vídjóið\n    div = videoDiv;\n    videoID = getID();\n\n    // Myndir sem breytast: Play, pause, mute, unmute\n    playImg = imgElement('img/play.svg');\n    pauseImg = imgElement('img/pause.svg');\n    muteImg = imgElement('img/mute.svg');\n    unmuteImg = imgElement('img/unmute.svg');\n\n    load();\n  }\n\n  return {\n    init,\n  };\n}());\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const videoDiv = document.querySelector('.video');\n  videoplayer.init(videoDiv);\n});\n"]}