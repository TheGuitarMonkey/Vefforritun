{"version":3,"sources":["scripts.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["\r\ndocument.addEventListener('DOMContentLoaded', function (){\r\n\r\n  program.init();\r\n});\r\n\r\n\r\nvar program = (function(){\r\n  let container;\r\n  let videoData;\r\n\r\n  /*Tekur inn millisekúndur og breytir þeim í\r\n    stærstu mögulega einingu(t.d. mínútur, klukkustundur)\r\n    og skilar streng sem lýsir því*/\r\n  function millisecondsToString(milliseconds){\r\n    const sec = 1000;\r\n    const min = 60*sec;\r\n    const hour = 60*min;\r\n    const day = 24*hour;\r\n    const week = 7*day;\r\n    const month = 30*day;\r\n    const year = 365*day;\r\n    let time;\r\n    if(milliseconds < min){\r\n      time = Math.floor(milliseconds/sec);\r\n      if(time != 1)\r\n        return \"Fyrir \" + time + \" sekúndum síðan\";\r\n      else{\r\n        return \"Fyrir \" + time + \" sekúndu síðan\";\r\n      }\r\n    }\r\n    else if(milliseconds < hour){\r\n      time = Math.floor(milliseconds/min);\r\n      if(time != 1)\r\n        return \"Fyrir \" + time + \" mínútum síðan\";\r\n      else{\r\n        return \"Fyrir \" + time + \" mínútu síðan\";\r\n      }\r\n    }\r\n\r\n    else if(milliseconds < day){\r\n      time = Math.floor(milliseconds/hour);\r\n      if(time != 1)\r\n        return \"Fyrir \" + time + \" klukkustundum síðan\";\r\n      else{\r\n        return \"Fyrir \" + time + \" klukkustund síðan\";\r\n      }\r\n    }\r\n\r\n    else if(milliseconds < week){\r\n      time = Math.floor(milliseconds/day);\r\n      if(time != 1)\r\n        return \"Fyrir \" + time + \" dögum síðan\";\r\n      else{\r\n        return \"Fyrir \" + time + \" degi síðan\";\r\n      }\r\n    }\r\n\r\n    else if(milliseconds < month){\r\n      time = Math.floor(milliseconds/week);\r\n      if(time != 1)\r\n        return \"Fyrir \" + time + \" vikum síðan\";\r\n      else{\r\n        return \"Fyrir \" + time + \" viku síðan\";\r\n      }\r\n    }\r\n\r\n    else if(milliseconds < year){\r\n      time = Math.floor(milliseconds/month);\r\n      if(time != 1)\r\n        return \"Fyrir \" + time + \" mánuðum síðan\";\r\n      else{\r\n        return \"Fyrir \" + time + \" mánuði síðan\";\r\n      }\r\n    }\r\n\r\n    else{\r\n      time = Math.floor(milliseconds/year);\r\n      if(time != 1)\r\n        return \"Fyrir \" + time + \" árum síðan\";\r\n      else{\r\n        return \"Fyrir \" + time + \" ári síðan\";\r\n      }\r\n    }\r\n  }\r\n\r\n  /*Tekur inn millisekúndurnur sem höfðu liðið frá\r\n    1. jan 1970 þangað til myndbandið var sett inn\r\n    og skilar streng sem segir hvað er langt síðan\r\n    myndbandið var sett inn*/\r\n  function timeSinceCreated(created){\r\n    const oldDate = new Date(created);\r\n    const newDate = Date.now();\r\n    const difference = newDate - oldDate;\r\n    return millisecondsToString(difference);\r\n  }\r\n\r\n\r\n  function element(name, child) {\r\n    const el = document.createElement(name);\r\n\r\n    if (typeof child === 'string') {\r\n      el.appendChild(document.createTextNode(child));\r\n    } else if (typeof child === 'object') {\r\n      el.appendChild(child)\r\n    }\r\n    return el;\r\n  }\r\n\r\n  function loadJSON() {\r\n    const r = new XMLHttpRequest();\r\n    r.open('GET', 'videos.json', true);\r\n    r.onload = function() {\r\n      var data = JSON.parse(r.response);\r\n      if (r.status >=200 && r.status < 400) {\r\n          addVideos(data);\r\n      } else {\r\n        //villuskilaboð\r\n      }\r\n    };\r\n\r\n    r.send();\r\n   }\r\n  /*tekur inn json object sem hefur verið parse-að, býr til div elements fyrir\r\n    hvert category, setur inn titil fyrir hvert category og birtir allar upplýsingar\r\n    fyrir hvert myndband.*/\r\n  function addVideos(data){\r\n    let videoData = data;\r\n    let divcount = 1;\r\n    for(let i = 0; i < videoData.categories.length; i++){\r\n      let divTitle = element('h2', videoData.categories[i].title);\r\n      let div = element('div', divTitle);\r\n      div.className = 'category' + divcount;\r\n      divcount++;\r\n      for(let j = 0; j < videoData.categories[i].videos.length; j++){\r\n        let videoID = videoData.categories[i].videos[j];\r\n        let video = videoData.videos[videoID-1];\r\n        let videoPoster = element('img');\r\n        videoPoster.src = video.poster;\r\n        videoPoster.className = 'vidimg';\r\n        let videoTitle = element('p', video.title);\r\n        videoTitle.className = 'vidtitle';\r\n        let videoCreated = element('p', timeSinceCreated(video.created));\r\n        videoCreated.className = 'vidcreated';\r\n        div.appendChild(videoPoster);\r\n        div.appendChild(videoTitle);\r\n        div.appendChild(videoCreated);\r\n      }\r\n\r\n\r\n      container.appendChild(div);\r\n    }\r\n\r\n  }\r\n\r\n  function init(){\r\n    container = document.querySelector('.container');\r\n    loadJSON();\r\n  }\r\n\r\n\r\nreturn {\r\n  init: init\r\n}\r\n\r\n})();\r\n"]}